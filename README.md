# redis-mq
php+redis+mysql实现的简单邮件队列  

思路：  
php发邮件时邮件内容存入mysql表中，同时lpush邮件ID到redis队列中  
后台执行队列检测程序，当队列有数据时，brpop取邮件ID，根据ID从mysql表取邮件详情进行发送  

容错处理：  
1.邮件发送失败后在mysql表记录失败状态并记录失败次数，设置一个最大失败次数，小于最大失败次数则重新入队列，再次发送  
2.对后台队列检测程序的监视，当后台检测程序意外崩溃时重新启动程序  
3.对redis数据丢失的处理：待处理
